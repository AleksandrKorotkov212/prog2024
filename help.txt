# Руководство пользователя моей программы по построению ландшафта

## Описание программы

Эта программа позволяет:

1. Генерировать двумерные гауссовые функции.

2. Создавать визуализации с помощью файлов gnuplot и BMP.

3. Выполнять алгоритмы кластеризации (KMeans) и обработки изображения ("волна").

4. Чтение и запись команд через batch-файл или интерактивную консоль.

## Конфигурация программы

Для работы программы используется файл **config.txt**. Его параметры задают начальные настройки программы:

### Пример config.txt:

```
file    (первое слово то, откуда будут вводиться команды: file - если из файла и key, если с клавиатуры

batch.txt  (если в предыдущей строке написано file, то здесь его название)

batch_pause  (обязательно написать это отдельной строкой)

ON (если хотим после каждой команды подтверждение через Enter, то пишем ON, OFF если не хотим)

interfacelog (обязательно написать это отдельной строкой)

ON (если хотим писать лог интерфейса, тут ON, иначе OFF)

controllog (обязательно написать это отдельной строкой)

ON (если хотим писать лог control, тут ON, иначе OFF)

xfield  (дальше задаются стандартные значения по умолчанию по правилу: на первой строке имя переменной, на второй - значение)

100

yfield 

100

xdefault 

10

ydefault 

10

sigma_x_default
 
1

sigma_y_default
 
1

hdefault
 
1



```

## Использование batch-файла

Batch-файл содержит команды, которые программа выполняет последовательно.

Важно, чтобы при вводе команд с параметрами на первой строке было название команды, а во второй - необходимые параметры (пример ниже).

### Пример batch-файла:

```

init

100 100

gauss

90 10 10 10 10

gauss

80 30 30 10 10

gauss

70 50 50 10 10

generate

Bin

10

gnuplot

file.txt

wBMP 

bmp2.bmp

rBMP

bmpread.bmp

Wave

3

kMeans

3 3

away

```

### Описание команд batch-файла:

- **init X Y**: Инициализация поля размером X на Y.

- **gauss A B C D E**: Добавление гаусса с параметрами:

- E: высота (амплитуда),

- A, B: координаты центра (X, Y),

- C, D: стандартные отклонения (sigma_x, sigma_y).

- **generate**: Генерация поля с добавленными гауссами.

- **Bin H**: Выполнение среза по высоте H.

- **gnuplot file.txt**: Создание визуализации в формате gnuplot (файл называется file.txt).

- **wBMP filename.bmp**: Создание визуализации в формате BMP.

- **rBMP filename.bmp**: Чтение изображения BMP из файла.

- **Wave n**: Запуск волнового алгоритма с шумом n (шум - кол-во пикселей, если количество пикселей в компоненте меньше шума, то не считаем это за компоненту).

- **kMeans a b**: Запуск алгоритма kMeans с a центроидами и b точками в каждой центроиде.

- **away**: завершение работы.

## Инструкция к работе с программой:

1. Создайте и настройте **config.txt**, указав параметры логирования, работу с batch-файлом и другие настройки.

2. Если используете batch-файл, создайте его и заполните командами, как показано выше, не забудьте про команду away в конце.

3. Запустите программу. Она попросит ввести имя конфигурационного файла (например, `config.txt`).

4. Программа выполнит команды из batch-файла или предложит вводить команды вручную.

5. После выполнения команд в папке программы появятся файлы результатов (например, `file.txt`, `bmp2.bmp` и др.).

6. Обязательно в конце Batch файла написать away.

## Работа в интерактивном режиме

Если batch-файл отключен (input==key), команды можно вводить вручную через консоль. 

Вводите команды по одной так же, как и для текстового файла, то есть: на первой строке название команды, а во второй - необходимые параметры

например:

```
init

500 500

```

## Результаты работы

Программа создаёт следующие файлы:

- **interfacelog.txt** и **controllog.txt**: Логи выполнения программы.

- **file.txt**: Данные для построения графика в gnuplot.

- **bmp-файлы**: Изображения в формате BMP.



## Возможные ошибки и их устранение

1. **Ошибка открытия файла**: Убедитесь, что указаны правильные пути и имена файлов в `config.txt`.

2. **Поле не инициализировано**: Добавьте команду `init X Y` в batch-файл или введите её вручную.

3. **Нет гауссов для генерации**: Убедитесь, что вы добавили команды `gauss` перед `generate`.

Если проблема не решена, можно посмотреть логи для того, чтобы узнать, что случилось и понять, как это может быть исправлено.

